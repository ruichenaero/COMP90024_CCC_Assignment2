---
- name: docker image
  become: yes
  command: chdir="{{ remote_directory }}/COMP90024_CCC_Assignment2/harvester" docker build -t harvester:twitterAPI .

# Remove previous docker, if have
- name: Remove exisiting harvester docker
  become: yes
  docker_container:
    name: harvester
    state: absent

# Lauch harvester docker
- name: Lauch Docker container
  become: yes
  shell: >
    docker run
    --restart=always
    --name harvester
    -d harvester:twitterAPI
   